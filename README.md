# ShpfileReader 项目

`ShpfileReader` 是一个使用原生 C++ 开发的工具，用于解析 Shapefile 文件（包括 `.shp` 和 `.dbf` 文件）。该工具逐步添加了可视化功能、代码优化以及文件写入功能。（v2部分额外将其输出为了一个dll，即插即用）

---

## 项目版本记录

### **v1: 使用 Qt 实现简单可视化**
- **主要功能**:
  - 解析 `.shp` 文件并显示其几何信息。
  - 使用 Qt 实现简单的图形化界面展示解析结果。
- **实现细节**:
  - 通过文件流读取 `.shp` 文件，解析头信息和形状记录。
  - 结合 QGraphicsView 将解析的几何图形可视化。
- **依赖项**:
  - C++11 及以上。
  - Qt5/6 框架。

---

### **v2: 代码结构优化**
- **主要功能**:
  - 对代码进行模块化拆分和结构化优化。
  - 提高了代码的可读性和可维护性。
- **实现细节**:
  - 使用类和方法封装功能逻辑，减少重复代码。
  - 增加注释和代码文档。
- **优化效果**:
  - 更方便扩展功能，例如支持更多的 Shapefile 类型。

---

### **v3: 增加 `.shp` 文件写出功能**
- **主要功能**:
  - 实现 `.shp` 文件的生成和写出。
- **实现细节**:
  - 按照 Shapefile 的二进制格式标准，支持创建和写入点、线和面等几何类型。
  - 提供接口供用户自定义几何数据输入。
  - 保证生成的 `.shp` 文件与标准 GIS 软件兼容。
- **挑战与解决方案**:
  - 处理二进制写入的字节对齐问题，确保写出的文件符合格式规范。

---

### **v4: 增加 `.dbf` 文件写入功能**
- **主要功能**:
  - 增加对 `.dbf` 文件写入的支持。
- **实现细节**:
  - 按照 DBase 文件格式规范，实现字段定义、记录写入等功能。
  - 支持数值、文本等常见字段类型的写入。
- **兼容性**:
  - 写出的 `.dbf` 文件能够与标准 GIS 软件无缝兼容。
- **进一步改进方向**:
  - 增加字段的更多类型支持（如日期字段）。
  - 提供 `.shp` 和 `.dbf` 文件的一体化写入接口。

---

## 使用方法

1. **编译环境**:
   - C++11 或以上。
   - 如果使用可视化功能，则需安装 Qt 开发环境。

2. **运行步骤**:
   - 将源码导入到 C++ IDE 中（如 Visual Studio 或 Qt Creator）。
   - 编译后运行程序，按提示选择需要解析的 `.shp` 文件。
